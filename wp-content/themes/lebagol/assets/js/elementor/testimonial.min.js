!function(e){"use strict";e(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/lebagol-testimonials.default",e=>{elementorFrontend.elementsHandler.addHandler(lebagolSwiperBase,{$element:e})})});const i=(e,t,s,i,r)=>(e-t)*(r-i)/(s-t)+i,r=(e,t,s)=>(1-s)*e+s*t,a=document.body,n=[];var t;class s{constructor(e){this.DOM={el:e},this.DOM.linkItems=this.DOM.el.querySelectorAll(".testimonial-effects-item"),this.animatableProperties={tx:{previous:0,current:0,amt:.08},ty:{previous:0,current:0,amt:.08},rotation:{previous:0,current:0,amt:.08},brightness:{previous:1,current:1,amt:.08}},this.linkItems=[],[...this.DOM.linkItems].forEach((e,t)=>this.linkItems.push(new m(e,t,this.animatableProperties))),this.showLebagolMenuItems()}showLebagolMenuItems(){gsap.to(this.linkItems.map(e=>e.DOM.textInner),{duration:1.2,ease:"Expo.easeOut",startAt:{y:"50%"},y:0,delay:e=>.06*e})}}let o={x:0,y:0},l=o,h;window.addEventListener("mousemove",e=>o=(e=>{let t=0,s=0;return(e=e||window.event).pageX||e.pageY?(t=e.pageX,s=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+a.scrollLeft+document.documentElement.scrollLeft,s=e.clientY+a.scrollTop+document.documentElement.scrollTop),{x:t,y:s}})(e));class m{constructor(e,t,s){this.DOM={el:e},this.inLebagolMenuPosition=t,this.animatableProperties=s,this.DOM.textInner=this.DOM.el.querySelector(".testimonial-content"),this.layout(),this.initEvents()}layout(){this.DOM.reveal=document.createElement("div"),this.DOM.reveal.className="hover-reveal",this.DOM.reveal.style.transformOrigin="0% 0%",this.DOM.revealInner=document.createElement("div"),this.DOM.revealInner.className="hover-reveal__inner",this.DOM.revealImage=document.createElement("div"),this.DOM.revealImage.className="hover-reveal__img",this.DOM.revealImage.style.backgroundImage=`url(${n[this.inLebagolMenuPosition][1]})`,this.DOM.revealInner.appendChild(this.DOM.revealImage),this.DOM.reveal.appendChild(this.DOM.revealInner),this.DOM.el.appendChild(this.DOM.reveal)}getMouseArea(){return this.bounds.el.top+this.bounds.el.height/2<=window.innerHeight/2?"up":"down"}calcBounds(){this.bounds={el:this.DOM.el.getBoundingClientRect(),reveal:this.DOM.reveal.getBoundingClientRect()}}initEvents(){this.mouseenterFn=e=>{this.showImage(),this.firstRAFCycle=!0,this.DOM.reveal.style.transformOrigin=`0% ${"up"===this.mouseArea?0:100}%`,this.loopRender()},this.mouseleaveFn=()=>{this.stopRendering(),this.hideImage()},this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}showImage(){gsap.killTweensOf(this.DOM.revealInner),gsap.killTweensOf(this.DOM.revealImage),this.tl=gsap.timeline({onStart:()=>{this.DOM.reveal.style.opacity=this.DOM.revealInner.style.opacity=1,gsap.set(this.DOM.el,{zIndex:n.length})}}).to(this.DOM.revealInner,.6,{ease:"Expo.easeOut",startAt:{scale:.6},scale:1}).to(this.DOM.revealImage,.6,{ease:"Expo.easeOut",startAt:{scale:1.4},scale:1},0)}hideImage(){gsap.killTweensOf(this.DOM.revealInner),gsap.killTweensOf(this.DOM.revealImage),this.tl=gsap.timeline({onStart:()=>{gsap.set(this.DOM.el,{zIndex:1})},onComplete:()=>{gsap.set(this.DOM.reveal,{opacity:0})}}).to(this.DOM.revealInner,.6,{ease:"Expo.easeOut",scale:.6,opacity:0}).to(this.DOM.revealImage,.6,{ease:"Expo.easeOut",scale:1.4},0)}loopRender(){this.requestId||(this.requestId=requestAnimationFrame(()=>this.render()))}stopRendering(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}render(){this.requestId=void 0,this.firstRAFCycle&&(this.calcBounds(),this.mouseArea=this.getMouseArea());var e,t,s,e=(e=Math.abs(l.x-o.x),s=100,e<=(t=0)?t:s<=e?s:e);h={x:l.x-o.x,y:l.y-o.y},l={x:o.x,y:o.y},this.animatableProperties.tx.current=Math.abs(o.x-this.bounds.el.left),this.animatableProperties.ty.current="up"===this.mouseArea?0:60-this.bounds.reveal.height,this.animatableProperties.rotation.current=this.firstRAFCycle?0:i(e,0,175,0,h.x<0?"up"===this.mouseArea?60:-60:"up"===this.mouseArea?-60:60),this.animatableProperties.brightness.current=this.firstRAFCycle?1:i(e,0,100,1,8),this.animatableProperties.tx.previous=this.firstRAFCycle?this.animatableProperties.tx.current:r(this.animatableProperties.tx.previous,this.animatableProperties.tx.current,this.animatableProperties.tx.amt),this.animatableProperties.ty.previous=this.firstRAFCycle?this.animatableProperties.ty.current:r(this.animatableProperties.ty.previous,this.animatableProperties.ty.current,this.animatableProperties.ty.amt),this.animatableProperties.rotation.previous=this.firstRAFCycle?this.animatableProperties.rotation.current:r(this.animatableProperties.rotation.previous,this.animatableProperties.rotation.current,this.animatableProperties.rotation.amt),this.animatableProperties.brightness.previous=this.firstRAFCycle?this.animatableProperties.brightness.current:r(this.animatableProperties.brightness.previous,this.animatableProperties.brightness.current,this.animatableProperties.brightness.amt),gsap.set(this.DOM.reveal,{x:this.animatableProperties.tx.previous,y:this.animatableProperties.ty.previous,rotation:this.animatableProperties.rotation.previous,filter:`brightness(${this.animatableProperties.brightness.previous})`}),this.firstRAFCycle=!1,this.loopRender()}}const u=e("#page").get(0);t=".testimonial-effects-item",new Promise(e=>{const s=document.createElement("div");s.style.visibility="hidden",a.appendChild(s),[...document.querySelectorAll(t)].forEach(e=>{const t=document.createElement("img");t.style.width=0,t.src=e.dataset.img,t.className="preload",s.appendChild(t),n.push({1:e.dataset.img})}),imagesLoaded(document.querySelectorAll(".preload"),()=>{s.parentNode.removeChild(s),e()})}).then(()=>{new s(u)})}(jQuery);